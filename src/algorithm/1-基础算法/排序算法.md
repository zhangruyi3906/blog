---
title: 排序算法
date: 2023-04-05 17:22:03
category: 
    - Algorithm
    - 基础算法
tag:
  - Algorithm
  - 基础算法
  - 排序
  - 逆序对
  - 模版
---

# 1.排序

## 1.1快速排序

### 思路

1.确定区间中的某一点，如a[l],a[r],a[(l+r)/2]等等，

2.将数组分为左右两边，左边全为比分界点小的数，右边全为比分界点大的数，

### 代码

```cpp
#include<iostream>
using namespace std;

const int N=1e6+10;
int n;
int q[N];

void qucik_sort(int q[],int l,int r){
	if(l==r) return;
	int x=q[l],i=l-1,j=r+1;
	while(i<j){
		do i++; while(q[i]<x);
		do j--; while(q[j]>x);
		if(i<j) swap(q[i],q[j]);
	}
	qucik_sort(q,l,j);
	qucik_sort(q,j+1,r);
}

int main(){
	scanf("%d",&n);
	for(int i=0;i<n;i++) scanf("%d",&q[i]);
	qucik_sort(q,0,n-1);
	for(int i=0;i<n;i++) printf("%d",q[i]);
}
```



### 题目：

洛谷P1177:快速排序https://www.luogu.com.cn/problem/P1177

存在的问题：

- 给你一个本身就有序（或者趋近于有序）的序列，那么你的快速排序就会退化成 O( n^2 )的复杂度

解决：

- 1. 使用random_shuffle函数打乱数组：
-    ` random_shuffle(q,q+n);`
- 2. 基准元素选择中间的：
- `int x = q[l+r>>1], i = l - 1, j = r + 1;`

## 1.2.归并排序

### 思路

1.找分界点

2.递归排序左右两边，将数组分成左右两个有序的数组

3.归并，将两个数组合并成一个有序的数组，通过比较大小插入到一个新的数组中去。

### 代码

```cpp
#include<iostream>
using namespace std;

const int N=1e6+10;
int q[N],n,temp[N];

void merge_sort(int q[],int l,int r){
	if(l==r) return ;
	int mid=l+r>>1;
	merge_sort(q,l,mid),merge_sort(q,mid+1,r);
	int k=0,i=l,j=mid+1;	
	while(i<=mid &&j<=r){
		if(q[i]<=q[j]) temp[k++]=q[i++];
		else temp[k++]=q[j++];
	}
	while(i<=mid) temp[k++]=q[i++];
	while(j<=r) temp[k++]=q[j++];
	for(int i=l,j=0;i<=r;i++,j++) q[i]=temp[j];
}

int main(){
	scanf("%d",&n);
	for(int i=0;i<n;i++) scanf("%d",&q[i]);
	merge_sort(q,0,n-1);
	for(int i=0;i<n;i++) printf("%d ",q[i]);
	return 0;
}
```
