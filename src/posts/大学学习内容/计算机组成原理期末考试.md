---
title: 计算机组成原理期末考试
date: 2023-06-22 18:59:19
category: 
  - 大学
  - 计算机组成原理
tag:
  - 大学
  - 计算机组成原理
---



# 数的表示

## 浮点数

$N=M*R^e$：其中M为尾数，R为基数(一般为2)，e为阶码，根科学计数法表示差不多

> 尾数M决定精度，越长精度越高
>
> 阶码e决定范围，越大范围越大

规格化：

> 正数写成0.1XXXX的形式
>
> 负数为-0.1XXX







# 输入输出系统

## 基本的输入输出方式

### 外围设备的寻址

1. 统一编址：将输入输出设备中控制寄存器、数据寄存器、状态寄存器等与内存单元一样看待，将它们和内存单元联合在一起编排地址，用访问内存的指令来访问输入输出设备接口的某个寄存器，从而实现数据的输入输出。
2. 单独编址：将输入输出设备中控制寄存器、数据寄存器、状态寄存器单独编排地址，用专门的控制信号进行输入输出操作。
3. CPU与外围设备进行通信有三种类型：
   1. CPU向外围设备发出操作控制命令。
   2. 外围设备向CPU提供状态信息。
   3. 数据在CPU与外围设备之间的传递。

### 外围设备的定时

外围设备的定时方式有**<u>异步传输方式</u>**和**<u>同步定时方式</u>**两种。

实现输入输出数据传输的方式主要有：

+ 程序控制方式
  + 程序查询方式
  + 中断方式
+ 直接存储访问（DMA）方式、
+ 通道方式
+ I/O处理机



## 中断

### 中断的基本概念

1．中断：是指CPU在接到随机产生的中断请求信号后，暂停原程序，转去执行相应的中断处理程序，以处理该随机事件，处理完毕后返回并继续执行原程序。

2．中断方式的特点：中断方式的输入输出操作可以减少CPU等待外围设备的时间，提高CPU的工作效率。

3．中断方式的应用范围：中断方式主要应用于处理复杂随机事件、控制中低速1/O。

4．简单的中断方式下，CPU响应中断的步骤：

（1）关中断

（2）保护现场

（3）识别发出中断的外围设备，判别中断信号，确定中断来源，形成中断服务程序入口地址。

（4）执行中断服务程序

（5）恢复现场信息

（6）开中断

5．现场保护：在CPU开始执行中断服务程序之前，将PC寄存器的值及任何可能影响返回后连续执行的信息（如状态寄存器及有关的寄存器的值）都需要进行保存，这种保存现场有关信息的操作称为现场保护。

6．中断向量：是指当外设在提出中断请求的同时，通过硬件向主机提供中断服务程序的入口地址，此地址称为中断向量。

### 中断裁决机制

实现中断裁决的方式有：

1．轮询方式：是一种软件裁决方式，CPU依次查询各外围设备的状态寄存器，以确定中断源，遇到发出中断的外围设备就响应其中断请求。

2．菊花链方式：各外围设备合用一条中断请求信号线送，中断许可信号线串接在各设备间。

3．独立请求：每一个外围设备都有一个独立的中断请求信号线送CPU，CPU也给各外围设备分别发送一个中断许可信号。

4．分组的菊花链方式：每一组外围设备采用菊花链连接，组间是独立请求的。

### 多重中断与中断屏蔽

1．多级中断：CPU在执行中断服务程序的过程中可以响应级别更高的中断请求。

2．中断嵌套：在多重中断系统中，CPU处理一个中断的过程中可以去响应新的中断请求。这种重叠处理中断的现象称为中断嵌套。在中断嵌套过程中，每次中断处理完成时再返回上一次被中断的服务程序。

3．多重中断系统中CPU响应处理一次中断的步骤。

（1）关中断；

（2）保存现场信息；

（3）判别中断条件，确定中断服务入口地址；

（4）开中断；

（5）执行中断服务程序；

（6）关中断；

（7）恢复现场信息；

（8）开中断。

4．中断屏蔽：CPU处理一个中断的过程中，对其他一些外部设备的中断进行阻止。通过CPU内部的一个中断屏蔽寄存器，用软件的方法修改中断屏蔽寄存器，以改变中断响应的优先顺序，实现对不同中断的分别禁止。

### 中断输入输出接口

1．中断方式的接口控制器功能：

①能向CPU发出中断请求信号；

②能发出识别代码提供引导CPU在响应中断请求后转入相应服务程序的地址；

③CPU要能够对中断请求进行允许或禁止的控制；

④能使中断请求参加优先级排队。

2．中断接口基本组成：

①地址译码。选取接口中有关寄存器，也就是选择了I/O设备。

②命令字／状态字寄存器。供CPU输出控制命令，调回接口与设备的状态信息。

③数据缓存。提供数据缓冲，实现速度匹配。

④接口控制电路。如中断控制逻辑、与设备特性相关的控制逻辑等。

## DMA方式

### DMA 方式基本概念

1．DMA 方式：直接存储器访问，直接依靠硬件实现主存与外设之间的数据直接传输，传输过程本身不需CPU程序干预。
2．DMA的数据传输过程：分三个阶段：
① DMA传送前的预置阶段（DMA初始化）；
②数据传送阶段（DMA传送）；
③传送后的结束处理



# 期末复习

1. 寻址方式

![image-20230624143843527](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306241438592.png)

2. 全加器

![image-20230624143947544](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306241439571.png)

> 用到三个异或门，两个与门，一个或门

3. 指令寻址

![image-20230624144036957](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306241440991.png)

> DS :数据段寄存器
>
> ES :辅助段寄存器
>
> CS :代码段寄存器	
>
> SS :堆栈段寄存器
>
> DISP ：位移值
>
> EA：表示有效地址,对于直接寻址模式，EA的计算公式为EA = DS * 10H + Disp。	

4. 指令寻址

![image-20230624151441272](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306241514314.png)

5. 中断处理

![image-20230624151501542](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306241515573.png)

6. CPU结构

![image-20230624151517454](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306241515486.png)

7. 主存字扩展

![image-20230624151542484](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306241515517.png)



# 知识点

存储单元是指 存放⼀个机器字的所有存储元集合

某计算机字长**16**位，存储器容量**64KB**，若按字编址，那么它的寻址范围是**________**。

> 16位是2B, 寻址范围是$\frac{64KB}{4B}=32K$

某DRAM芯⽚，其存储容量为512K×8位，该芯⽚的地址线和数据线数⽬为______

> 地址线数目为前面 $2^{19}=512*2^{10}$,地址线为19 ，数据线为后面的8

某计算机字长32位，其存储容量为4MB，若按字编址，它的寻址范围是________

> 32位为4B，寻址范围为$\frac{4MB}{4B}=1M$

寄存器间接寻址⽅式中，操作数处在_

> 内存单元

1. 指令和数据都存放在主存，如何识别从主存取出的是指令还是数据？

> ​	指令和数据都存放在主存，它们都以二进制代码形式出现，区分的方式有
>
> 从主存中取出的机器周期不同。取指周期取出的是指令，分析取数或执行周期取出的是数据
>
> 取指令和取数据时地址的来源不同。指令地址来源于程序计数器PC,数据地址来源于地址形成部件

2. 简单描述计算机的层次结构。说明各层次的主要特点：

> 现代计算机系统是一个硬件与软件组成的综合体，可以把它看成是按功能划分的多级层次结构。
> 	第0级为硬件组成的实体。
> 	第1级是微程序级。这级的机器语言是微指令集，程序员用微指令编写的微程序一般是直接由硬件执行的。
> 	第2级是传统机器级。这级的机器语言是该机的指令集，程序员用机器指令编写的程序可以由微程序进行解释。
> 	第3级操作系统级。从操作系统的基本功能来看，一方面它要直接管理传统机器中的软硬件资源，另一方面它又是传统机器的延伸。
> 	第4级是汇编语言级。这级的机器语言是汇编语言，完成汇编语言翻译的程序叫做汇编程序。
> 	第5级是高级语言级。这级的机器语言就是各种高级语言，通常用编译程序来完成高级语言翻译工作。
> 	第6级是应用语言级。这一级是为了使计算机满足某种用途而专门设计的，因此这一级语言就是各种面向问题的应用语言。

3. 在CPU中，哪些寄存器属于控制用的指令部件，它们各起什么作用？

> [答案]:(1)程序计数器PC,提供取指地址,从而控制程序执行顺序。(2)指令寄存器IR,存放现行指令,作为产生各种微操作命令的基本逻辑依据。(3)程序状态寄存器PS,记录程序运行结果的某些特征标志,或用来设置程序运行方式与优先级,参与形成某些微操作命令。

4. 中央处理器的基本功能有哪些

> 计算机的中央处理器( CPU )具有以下 4 个方面的基本功能: ( 1 )指令控制,即对程序运行的控制; ( 2 )操作控制,即对指令内操作步骤的控制; ( 3 )数据运算,即对数据进行算术运算和逻辑运算,这是 CPU 的最基本功能; ( 4 )异常处理和中断处理,如处理运算中的溢出等错误情况以及处理外部设备的服务请求等 此外, CPU 还具有存储管理、总线管理、电源管理等扩展功能

5. 微程序控制器怎么产生操作控制信号，这种控制器有何优缺点

> 操作控制信号的产生：事先把操作控制信号以代码形式构成微指令，然后存放到控制存储器中，取出微指令时，其代码直接或译码产生操作控制信号。 优点：规整、易于修改和扩展。 缺点：速度较慢。

6. 串行总线和并行总线有何区别？各适用什么场合

> 串行总线的数据传输是在一条线路上按位进行。线路成本低,传送速度慢。 适用场合:主机与低速外设间的传送、远距离通信总线的数据传送、系统之间的数据传送。 并行总线的每个数据位都需要单独一条传输线,所有的数据位同时进行传输。线路成本高,传送速度快。适用场合:短距离的高速数据传输。

7. 系统总线接口有哪几项基本功能

> [答案]:① 控制:传递总线上的控制信息,主设备会通过总线接口向从设备发出控制信息。② 数据缓存:在总线传递信息时,在总线接口中临时存放数据。③ 状态设置通过总线和转换从设备的工作信息,便于主设备了解从设备的信息。④ 数据转换:某些总线接口需要对传递的数据进行转换。⑤ 整理:对接口本身进行调整。⑥ 程序中断。

8. 什么是串行接口，什么是并行接口，他们与系统总线及IO设备之间的传递格式分别是什么？

>[答案]: 串行接口和并行接口都是总线与设备之间的接口部件,但与设备间的数据格式不同。串行接口与外设之间串行,与系统总线之间并行。并行接口与外设之间并行,与系统总线之间并行。

9. 何为中断方式？它主要用在什么场合，举两个例子：

> ①中断方式指：CPU在接到随机产生的中断请求信号后，暂停原程序，转去执行相应的中断处理程序，以处理该随机事件，处理完毕后返回并继续执行原程序；②主要应用于处理复杂随机事件、控制中低速1/O；③例：打印机控制，故障处理。

10. 中断接口一般包含哪些基本组成，简要说明它们的作用

> ①地址译码。选取接口中有关寄存器，也就是选择了I/O设备。 ②命令字／状态字寄存器。供CPU输出控制命令，调回接口与设备的状态信息。 ③数据缓存。提供数据缓冲，实现速度匹配。 ④控制逻辑。如中断控制逻辑、与设备特性相关的控制逻辑等。

# 系统概述

1. 冯•诺依曼计算机中指令和数据均以二进制形式存放在存储器中，CPU是如何区分它们的？

> 答案：可以从时间上和空间上进行区别的
> 时间上：对指令的访问只有在取指阶段，而对数据的访问是在分析和执行阶段的。所以可以从时间上进行区分
>
> 空间上：放置的位置不同，取指令和取数据时地址的来源不同指令地址来源于程序计数器PC,数据地址来源于地址形成部件或指令的地址码字段

2. 冯诺伊曼计算机的特点

> 1. 硬件系统由运算器、存储器、控制器、输入设备和输出设备5个部件组成
> 2. 采用二进制形式表示指令和数据
> 3. 存储程序：将程序和数据存入计算机，在启动计算机工作

3. 硬件组成功能：

> 运算器：完成算术和逻辑运算
> 存储器：存放数据和程序
> 控制器：用来控制、执行程序
> 输入设备：将信息输入到计算机中，转换为计算机能识别的形式
> 输出设备：将机器的运算结果转换为人可识别的信息

系统组成

> ![image-20230625185545952](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306251855024.png)

层次结构：

> ![image-20230625185605033](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306251856058.png)

技术指标：

![image-20230625190253563](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306251902596.png)

机器字长：CPU进行一次运算所能处理的二进制数据的位数，简称字长，字长越长， 数据的表示范围越大，计算精度越高	

> 1位=1bit, 1字节=8bit, 1B=8b

存储字长：一个存储单元中二进制代码的位数  <=机器字长



![image-20230625190951908](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306251909939.png)

指令字长：一个机器指令中包含的二进制代码的位数

![image-20230625190813857](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306251908898.png)

![image-20230625191200402](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306251912438.png)





# 存储系统

![img](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306252049857.png)

# 指令系统

复杂：

![image-20230625223956960](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306252239026.png)

精简：

![image-20230625224008191](https://cdn.jsdelivr.net/gh/yunfeidog/picture-bed@main/img/202306252240217.png)
